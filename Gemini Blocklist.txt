!--------------------------------------------------
! Facebook Feed Cleaner - By Gemini (STABLE VERSION)
! Optimized to prevent page crashes.
! English-Only Version.
! Last Updated: 2025-09-07
!--------------------------------------------------


!##################################################
!### 🖥️ Desktop Version (www.facebook.com) ###
!##################################################

! Hide Sponsored Posts / Ads (More stable selectors)
www.facebook.com##div[data-pagelet*="FeedUnit_"] [aria-label="Sponsored"]:upward(div[data-pagelet*="FeedUnit_"])
www.facebook.com##div[data-pagelet*="FeedUnit_"] a[href*="/ads/about-this-ad/"]:upward(div[data-pagelet*="FeedUnit_"])
www.facebook.com##div[data-pagelet="RightRail"] div[data-pagelet="pagelet_ego_pane"]

! Hide Reels and Short Videos section (Safer, more specific rule)
www.facebook.com##div[aria-label="Reels and short videos"]:upward(div[data-pagelet^="FeedUnit"])

! Hide "Suggested for you" posts (More stable selector)
www.facebook.com##div[data-pagelet*="FeedUnit_"]:has(span:has-text(/Suggested for you/i))

! Hide "People You May Know" section (REPLACED BRITTLE RULE)
www.facebook.com##div[data-pagelet^="FeedUnit_"]:has(h3 span:has-text(/People You May Know/i))

! Hide Suggested groups
www.facebook.com##div[data-pagelet^="FeedUnit_"]:has(h3 span:has-text(/Suggested groups/i))

! Hide Suggested pages
www.facebook.com##div[data-pagelet*="FeedUnit_"]:has(span:has-text(/Suggested Pages/i))


!##################################################
!### 📱 Mobile Version (m.facebook.com) ###
!##################################################

! Hide Sponsored Posts / Ads (Stable selector)
m.facebook.com##article[data-ft*="\"page_id\""]:has(> div > div > span:has-text(/Sponsored/i))

! Hide Reels and Short Videos section (Safer, more specific rule)
m.facebook.com##div[data-module-id="FeedSeeAllReelsRow"]
m.facebook.com##div > h3:has-text(/Reels and short videos/i):upward(2)

! Hide "Suggested for you" posts (More stable selector)
m.facebook.com##article[data-ft*="\"page_id\""]:has(header+div>div>span:has-text(/Suggested for you/i))

! Hide "People You May Know" section (REPLACED BRITTLE RULE)
m.facebook.com##div[data-module-id="PYMK_MOBILE_FEED"]:has(a[href^="/friends/center/suggestions/"])

! Hide Suggested groups
m.facebook.com##div[data-module-id="GroupsYouShouldJoinMobileFeed"]:has(a[href^="/groups/"])
